{"version":3,"sources":["components/MoviesSearchForm/MoviesSearchForm.module.scss","components/App/App.module.scss","components/FilmsTable/FilmElement/FilmElement.module.scss","redux/movies/moviesConstants.js","redux/movies/moviesReducer.js","redux/store.js","components/FilmsTable/FilmElement/FilmElement.jsx","api/api.js","redux/movies/moviesActions.js","components/FilmsTable/FilmsTable.jsx","components/MoviesSearchForm/MoviesSearchForm.jsx","components/App/App.js","index.js"],"names":["module","exports","SET_MOVIES","SET_PAGE_NUMBER","SET_MOVIES_COUNT","initialState","movies","movie_count","page_number","movies_comments","moviesReducer","state","type","payload","rootReducer","combineReducers","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","FilmElement","m","useDispatch","useState","commentsOn","ratingColor","rating","onClick","className","styles","li","movie","style","backgroundImage","medium_cover_image","img","movieInfo","title","title_english","tags","mb10px","genres","join","darkText","year","language","blockInfo","color","icon","src","alt","clock","runtime","comments","instance","axios","create","baseURL","listMoviesAPI","get","then","response","data","setMovies","FilmsTable","useSelector","dispatch","useEffect","a","status","getMovies","map","id","MoviesSearchForm","limit","totalItemsCount","activePage","itemsCountPerPage","onChange","newPage","hideFirstLastPages","innerClass","pagUl","linkClass","pagLi","activeLinkClass","pagLiActive","App","wrap","appTitle","render","StrictMode","document","getElementById"],"mappings":"wFACAA,EAAOC,QAAU,CAAC,MAAQ,gCAAgC,MAAQ,gCAAgC,YAAc,wC,mBCAhHD,EAAOC,QAAU,CAAC,KAAO,kBAAkB,SAAW,wB,kBCAtDD,EAAOC,QAAU,CAAC,GAAK,wBAAwB,MAAQ,2BAA2B,IAAM,yBAAyB,UAAY,+BAA+B,OAAS,4BAA4B,SAAW,8BAA8B,MAAQ,2BAA2B,SAAW,8BAA8B,UAAY,+BAA+B,KAAO,0BAA0B,OAAS,4BAA4B,MAAQ,6B,6HCDlaC,EAAa,aACbC,EAAkB,kBAClBC,EAAmB,mBCC1BC,EAAe,CACnBC,OAAQ,GACRC,YAAa,EACbC,YAAa,EACbC,gBAAiB,IAiBJC,EAdO,WAA8C,IAA7CC,EAA4C,uDAApCN,EAAoC,yCAApBO,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QACnD,OAAQD,GAEN,KAAKV,EACH,OAAO,2BAAKS,GAAZ,IAAmBL,OAAO,YAAKO,KACjC,KAAKT,EACH,OAAO,2BAAKO,GAAZ,IAAmBJ,YAAaM,IAClC,KAAKV,EACH,OAAO,2BAAKQ,GAAZ,IAAmBH,YAAaK,IAClC,QACE,OAAOF,IChBPG,EAAcC,YAAgB,CAClCT,OAAQI,IAGJM,EAAkBC,OAAOC,sCAAwCC,IAGxDC,EADHC,YAAYP,EAAaE,EAAgBM,YAAgBC,O,+BC0CtDC,EA/CK,SAAC,GAAW,IAATC,EAAQ,EAARA,EAGrB,GADiBC,cACmBC,oBAAS,IAA7C,mBAAOC,EAAP,KACIC,GADJ,KACkB,SASlB,OAPEA,EADEJ,EAAEK,QAAU,GAAKL,EAAEK,QAAU,EACjB,UACLL,EAAEK,OAAS,GAAKL,EAAEK,QAAU,EACvB,UAEA,UAId,qBAAIC,QAAS,aAGVC,UAAWC,IAAOC,GAHrB,UAIE,sBAAKF,UAAWC,IAAOE,MAAvB,UACE,qBAAKC,MAAO,CAAEC,gBAAgB,OAAD,OAASZ,EAAEa,mBAAX,MAAoCN,UAAWC,IAAOM,MAEnF,sBAAKP,UAAWC,IAAOO,UAAvB,UACE,oBAAIR,UAAWC,IAAOQ,MAAtB,SAA8BhB,EAAEiB,gBAChC,mBAAGV,UAAWC,IAAOU,KAAO,IAAMV,IAAOW,OAAzC,SAAkDnB,EAAEoB,OAAOC,KAAK,QAChE,oBAAGd,UAAWC,IAAOW,OAArB,mBAAmC,sBAAMZ,UAAWC,IAAOc,SAAxB,SAAmCtB,EAAEuB,UACxE,sBACA,oBAAGhB,UAAWC,IAAOgB,SAArB,uBAAyC,sBAAMjB,UAAWC,IAAOc,SAAxB,SAAmCtB,EAAEwB,cAC9E,sBAAKjB,UAAWC,IAAOiB,UAAvB,UACE,sBAAKd,MAAO,CAAEe,MAAOtB,GAAeG,UAAWC,IAAOH,OAAtD,UACE,qBAAKE,UAAWC,IAAOmB,KAAMC,IAAI,mDAAmDC,IAAI,cACvF7B,EAAEK,OAFL,SAIA,sBAAKE,UAAWC,IAAOsB,MAAvB,UACE,qBAAKvB,UAAWC,IAAOmB,KAAMC,IAAI,oEAAoEC,IAAI,eAD3G,OAEO7B,EAAE+B,oBAKb5B,GACA,qBAAKI,UAAWC,IAAOwB,e,gCC3CzBC,E,OAAWC,EAAMC,OAAO,CAC5BC,QAAS,2BAGEC,EAAgB,WACC,IAAlBtD,EAAiB,uDAAH,EACtB,OAAOkD,EAASK,IAAT,yCAA+CvD,IACnDwD,MAAK,SAAAC,GACJ,OAAOA,EAASC,SCPXC,EAAY,SAACtD,GAAD,MAAc,CACrCD,KAAMV,EACNW,YCoBauD,EAnBI,WACjB,IAAM5D,EAAc6D,aAAY,SAAA1D,GAAK,OAAIA,EAAML,OAAOE,eAChD8D,EAAW5C,cAEjB6C,qBAAU,WACRD,EDKqB,SAAC9D,GAAD,8CAAiB,WAAO8D,GAAP,eAAAE,EAAA,sEACnBV,EAAwBtD,GADL,OAEhB,QADpByD,EADoC,QAE3BQ,SACXH,GAZ0BzD,EAYHoD,EAASC,KAAK3D,YAZE,CACzCK,KAAMR,EACNS,aAWEyD,EAASH,EAAUF,EAASC,KAAK5D,UAJK,iCATb,IAACO,IASY,OAAjB,sDCLZ6D,CAAUlE,MAClB,CAACA,IACJ,IAAMF,EAAS+D,aAAY,SAAA1D,GAAK,OAAIA,EAAML,OAAOA,UAEjD,OACE,8BACE,6BACGA,EAAOqE,KAAI,SAAClD,GACX,OAAO,cAAC,EAAD,CAAwBA,EAAGA,GAATA,EAAEmD,Y,kCCQtBC,EApBU,WACvB,IAAMC,EAAQT,aAAY,SAAA1D,GAAK,OAAIA,EAAML,OAAOwE,SAC1CvE,EAAc8D,aAAY,SAAA1D,GAAK,OAAIA,EAAML,OAAOC,eAChDC,EAAc6D,aAAY,SAAA1D,GAAK,OAAIA,EAAML,OAAOE,eAChD8D,EAAW5C,cACjB,OACE,8BACE,cAAC,IAAD,CACEqD,gBAAiBxE,EACjByE,WAAYxE,EACZyE,kBAAmBH,EACnBI,SAAU,SAACC,GAAab,EFPW,CACzC1D,KAAMT,EACNU,QEKqDsE,KAC/CC,oBAAoB,EACpBC,WAAYpD,IAAOqD,MACnBC,UAAWtD,IAAOuD,MAClBC,gBAAiBxD,IAAOyD,iB,iBCJjBC,MAZf,WACE,OACE,cAAC,IAAD,CAAUvE,MAAOA,EAAjB,SACE,sBAAKY,UAAWC,IAAO2D,KAAvB,UACE,oBAAI5D,UAAWC,IAAO4D,SAAtB,mBACA,cAAC,EAAD,IACA,cAAC,EAAD,U,MCLRC,iBACE,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.9bcc041d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagUl\":\"MoviesSearchForm_pagUl__2mW_e\",\"pagLi\":\"MoviesSearchForm_pagLi__1JLTs\",\"pagLiActive\":\"MoviesSearchForm_pagLiActive__FSiiE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"App_wrap__3j9up\",\"appTitle\":\"App_appTitle__FTd5j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"li\":\"FilmElement_li__3pteV\",\"movie\":\"FilmElement_movie__wQ0B9\",\"img\":\"FilmElement_img__1GCBc\",\"movieInfo\":\"FilmElement_movieInfo__3W3cN\",\"mb10px\":\"FilmElement_mb10px__3Pij8\",\"darkText\":\"FilmElement_darkText__iECYh\",\"title\":\"FilmElement_title__2FCXS\",\"language\":\"FilmElement_language__1JPO5\",\"blockInfo\":\"FilmElement_blockInfo__2HUn4\",\"icon\":\"FilmElement_icon__PaJiS\",\"rating\":\"FilmElement_rating__2FF84\",\"clock\":\"FilmElement_clock__3aWDb\"};","export const SET_MOVIES = 'SET_MOVIES'\r\nexport const SET_PAGE_NUMBER = 'SET_PAGE_NUMBER'\r\nexport const SET_MOVIES_COUNT = 'SET_MOVIES_COUNT'","import { SET_MOVIES, SET_MOVIES_COUNT, SET_PAGE_NUMBER } from \"./moviesConstants\"\r\n\r\n\r\nconst initialState = {\r\n  movies: [],\r\n  movie_count: 0,\r\n  page_number: 1,\r\n  movies_comments: []\r\n}\r\n\r\nconst moviesReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n\r\n    case SET_MOVIES:\r\n      return { ...state, movies: [...payload] }\r\n    case SET_MOVIES_COUNT:\r\n      return { ...state, movie_count: payload }\r\n    case SET_PAGE_NUMBER:\r\n      return { ...state, page_number: payload }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default moviesReducer\r\n\r\n","import { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport moviesReducer from \"./movies/moviesReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  movies: moviesReducer\r\n})\r\n\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nlet store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunkMiddleware)))\r\nexport default store;","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport styles from './FilmElement.module.scss'\r\n\r\nconst FilmElement = ({ m }) => {\r\n  // const comments = useSelector(state => state.movies.comments)\r\n  const dispatch = useDispatch()\r\n  const [commentsOn, setCommentsOn] = useState(false)\r\n  let ratingColor = 'white'\r\n  if (m.rating >= 0 && m.rating <= 4) {\r\n    ratingColor = '#fe2d2d'\r\n  } else if (m.rating > 4 && m.rating <= 6) {\r\n    ratingColor = '#e9ef36'\r\n  } else {\r\n    ratingColor = '#1afa25'\r\n  }\r\n\r\n  return (\r\n    <li onClick={() => {\r\n      // dispatch(getComments(m.id))\r\n      // setCommentsOn(true) \r\n    }} className={styles.li}>\r\n      <div className={styles.movie}>\r\n        <div style={{ backgroundImage: `URL(${m.medium_cover_image})` }} className={styles.img}>\r\n        </div>\r\n        <div className={styles.movieInfo}>\r\n          <h2 className={styles.title}>{m.title_english}</h2>\r\n          <p className={styles.tags + ' ' + styles.mb10px}>{m.genres.join(', ')}</p>\r\n          <p className={styles.mb10px}>Year: <span className={styles.darkText}>{m.year}</span></p>\r\n          <p></p>\r\n          <p className={styles.language}>language: <span className={styles.darkText}>{m.language}</span></p>\r\n          <div className={styles.blockInfo}>\r\n            <div style={{ color: ratingColor }} className={styles.rating}>\r\n              <img className={styles.icon} src=\"https://img.icons8.com/fluent/24/000000/star.png\" alt='star icon'/>\r\n              {m.rating}/10\r\n          </div>\r\n            <div className={styles.clock}>\r\n              <img className={styles.icon} src=\"https://img.icons8.com/material-outlined/24/def1ff/wall-clock.png\" alt='clock icon'/>\r\n            &nbsp;{m.runtime}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      { commentsOn &&\r\n        <div className={styles.comments}>\r\n\r\n        </div>}\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default FilmElement\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://yts.mx/api/v2/'\r\n})\r\n\r\nexport const listMoviesAPI = {\r\n  getMovies(page_number = 1) {\r\n    return instance.get(`list_movies.json?limit=20&page=${page_number}`)\r\n      .then(response => {\r\n        return response.data\r\n      })\r\n  },\r\n  getComments(movie_id) {\r\n    debugger\r\n    return instance.get(`movie_comments.json?movie_id=${movie_id}`)\r\n    .then(response => {\r\n      debugger\r\n      return response.data\r\n    })\r\n  },\r\n  makeComment(movie_id) {\r\n    return instance.get(`make_comment.json?movie_id=${movie_id}&comment_text='123'`)\r\n    .then(response => {\r\n      return response.data\r\n    })\r\n  },\r\n  getUserKey() {\r\n    return instance.get(`user_get_key.json?username='Voice60'&password='test'`)\r\n    .then(response => {\r\n      return response.data\r\n    })\r\n  },\r\n}","import { listMoviesAPI } from \"../../api/api\"\r\nimport { SET_MOVIES, SET_MOVIES_COUNT, SET_PAGE_NUMBER } from \"./moviesConstants\"\r\n\r\nexport const setMovies = (payload) => ({\r\n  type: SET_MOVIES,\r\n  payload\r\n})\r\nexport const setMovieCount = (payload) => ({\r\n  type: SET_MOVIES_COUNT,\r\n  payload\r\n})\r\nexport const setPageNumber = (payload) => ({\r\n  type: SET_PAGE_NUMBER,\r\n  payload\r\n})\r\n\r\nexport const getMovies = (page_number) => async (dispatch) => {\r\n  let response = await listMoviesAPI.getMovies(page_number)\r\n  if (response.status === 'ok') {\r\n    dispatch(setMovieCount(response.data.movie_count))\r\n    dispatch(setMovies(response.data.movies))\r\n  }\r\n}\r\nexport const getComments = (movie_id) => async (dispatch) => {\r\n  let response = await listMoviesAPI.getComments(movie_id)\r\n  if (response.status === 'ok') {\r\n    debugger\r\n    // dispatch(setMovieCount(response.data.movie_count))\r\n    // dispatch(setMovies(response.data.movies))\r\n  }\r\n}","import FilmElement from './FilmElement/FilmElement'\r\nimport React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { getMovies } from '../../redux/movies/moviesActions'\r\n\r\nconst FilmsTable = () => {\r\n  const page_number = useSelector(state => state.movies.page_number)\r\n  const dispatch = useDispatch()\r\n  \r\n  useEffect(() => {\r\n    dispatch(getMovies(page_number))\r\n  }, [page_number])\r\n  const movies = useSelector(state => state.movies.movies)\r\n\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {movies.map((m) => {\r\n          return <FilmElement key={m.id} m={m} />\r\n        })}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\nexport default FilmsTable","import React from 'react'\r\nimport Pagination from 'react-js-pagination'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { setPageNumber } from '../../redux/movies/moviesActions'\r\nimport styles from './MoviesSearchForm.module.scss'\r\n\r\nconst MoviesSearchForm = () => {\r\n  const limit = useSelector(state => state.movies.limit)\r\n  const movie_count = useSelector(state => state.movies.movie_count)\r\n  const page_number = useSelector(state => state.movies.page_number)\r\n  const dispatch = useDispatch()\r\n  return (\r\n    <div>\r\n      <Pagination\r\n        totalItemsCount={movie_count}\r\n        activePage={page_number}\r\n        itemsCountPerPage={limit}\r\n        onChange={(newPage) => {dispatch(setPageNumber(newPage))}}\r\n        hideFirstLastPages={true}\r\n        innerClass={styles.pagUl}\r\n        linkClass={styles.pagLi}\r\n        activeLinkClass={styles.pagLiActive}\r\n       />\r\n    </div>\r\n  )\r\n}\r\nexport default MoviesSearchForm\r\n","import { Provider } from 'react-redux';\nimport store from '../../redux/store';\nimport FilmsTable from '../FilmsTable/FilmsTable';\nimport MoviesSearchForm from '../MoviesSearchForm/MoviesSearchForm';\nimport styles from './App.module.scss';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div className={styles.wrap}>\n        <h1 className={styles.appTitle}>Films</h1>\n        <MoviesSearchForm />\n        <FilmsTable />\n      </div>\n    </Provider>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\n\nimport App from './components/App/App';\n\nimport './index.scss';\n\nrender(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}